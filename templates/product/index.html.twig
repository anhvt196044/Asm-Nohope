{% extends "base.html.twig" %}
{% block body %}
<div class="container-fluid col-md-6 text-center mt-3">
    <h1 class="text text-success"> Product List </h1>
    {# nhận flash message từ controller #}
    {% for flash in app.session.flashBag.get("Error") %}
         <p class="alert alert-danger">{{ flash }} </p>
    {% endfor %} 
    {% for flash in app.session.flashBag.get("Success") %}
         <p class="alert alert-warning">{{ flash }} </p>
    {% endfor %}
    <a class="btn btn-outline-success" href="{{ path('product_add')}}">Add new product</a>

    <table class="table table-success mt-3">
        <tr class="table-primary">
            <th class="text-danger">Product No.</th>
            <th>Product Name</th>
            <th>Product Color</th>
            <th>Description</th>
            <th>Price</th>
            <th>Image</th>
            <th>Actions</th>
        </tr>
        {% for product in products %}
        <tr>
            <td>{{ product.id }}</td>
            <td>{{ product.name }}</td>
            <td>{{ product.color }}</td>
            <td>{{ product.description }}</td>
            <td>{{ product.price }}</td>
            <td>
                <img src="{{ product.image }}" width="100" height="100">            
            </td>

            <td>
                <a class="btn btn-info" href="{{ path("product_detail", {'id' : product.id }) }}">DETAIL</a>
                <a class="btn btn-warning" href="{{ path("product_edit", {'id' : product.id }) }}">EDIT</a>
                <a class="btn btn-danger" href="{{ path("product_delete", {'id' : product.id }) }}"
                onclick="return confirm('Are you sure to delete this Product ?');"
                >DELETE</a>
            </td>
        </tr>
        {% endfor %}
    </table>
</div>
{% endblock %}